(function(e){function t(t){for(var r,s,l=t[0],a=t[1],u=t[2],p=0,f=[];p<l.length;p++)s=l[p],n[s]&&f.push(n[s][0]),n[s]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);c&&c(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],r=!0,l=1;l<o.length;l++){var a=o[l];0!==n[a]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=o[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=r,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],a=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var c=a;i.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";var r=o("9e74"),n=o.n(r);n.a},"56d7":function(e,t,o){"use strict";o.r(t);o("dac5"),o("6e26"),o("9604"),o("df67");var r=o("6e6d"),n=o("9db5"),i=o.n(n),s=(o("02b3"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("div",[e.imageUrl?o("img",{attrs:{src:e.imageUrl,id:"text-img"}}):e._e()]),o("div",[o("el-upload",{staticClass:"img-uploader",attrs:{action:"","show-file-list":!1,"auto-upload":!1,"on-change":e.imgPreview}},[o("el-button",{attrs:{type:"primary"}},[e._v("上 传")])],1),e.imageUrl?o("el-button",{staticClass:"img-btn",attrs:{type:"primary"},on:{click:e.recognize}},[e._v("识 别")]):e._e(),e.imageUrl?o("el-button",{staticClass:"img-btn",attrs:{type:"info"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("裁 剪")]):e._e()],1),e._l(e.progress_list,function(t,r){return o("div",{staticClass:"pregress-status"},[o("el-row",{attrs:{justify:"center"}},[o("el-col",{attrs:{span:4,offset:6}},[o("div",{staticClass:"grid-content"},[e._v(e._s(r))])]),o("el-col",{attrs:{span:8}},[o("el-progress",{key:r,attrs:{"text-inside":!0,"stroke-width":20,percentage:t}})],1)],1)],1)}),e._l(e.recog_result,function(t){return o("div",[o("p",[e._v(e._s(t))])])}),o("div",[o("el-dialog",{attrs:{title:"图片剪裁",visible:e.dialogVisible,"append-to-body":""},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("div",{staticClass:"cropper-content"},[o("div",{staticClass:"cropper",staticStyle:{"text-align":"center"}},[o("VueCropper",{ref:"cropper",attrs:{img:e.imageUrl,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,fixedNumber:e.option.fixedNumber,centerBox:e.option.centerBox,infoTrue:e.option.infoTrue,fixedBox:e.option.fixedBox}})],1)]),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("确 认")])],1)])],1)],2)}),l=[],a=o("48fb"),u=o.n(a),c=o("4c99"),p=u.a.TesseractWorker,f=new p,d={data:function(){return{imageUrl:"",dialogVisible:!1,option:{info:!0,outputType:"jpeg",canScale:!1,autoCrop:!0,fixedNumber:[7,5],full:!0,infoTrue:!0,centerBox:!0},progress_list:{},recog_result:[]}},components:{VueCropper:c["VueCropper"]},methods:{imgPreview:function(e){this.imageUrl=URL.createObjectURL(e.raw)},recognize:function(){var e=this;this.recog_result=[];var t=document.getElementById("text-img");console.log(t),f.recognize(this.imageUrl,"eng+chi_sim").progress(function(t){console.log(t),"progress"in t&&e.$set(e.progress_list,t.status,Math.floor(100*t.progress))}).then(function(t){var o;for(var r in clearTimeout(o),o=setTimeout(function(){e.progress_list={}},1e3),t.lines)e.recog_result.push(t.lines[r].text);console.log(t)})},finish:function(){var e=this;this.$refs.cropper.getCropBlob(function(t){console.log(t),e.imageUrl=URL.createObjectURL(t),e.dialogVisible=!1})}}},g=d,v=(o("034f"),o("17cc")),b=Object(v["a"])(g,s,l,!1,null,null,null),m=b.exports;r["default"].use(i.a),r["default"].config.productionTip=!1,new r["default"]({render:function(e){return e(m)}}).$mount("#app")},"9e74":function(e,t,o){}});